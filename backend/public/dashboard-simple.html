<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>247Vitrine - Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: {
              50: '#f0f9ff',
              100: '#e0f2fe',
              200: '#bae6fd',
              300: '#7dd3fc',
              400: '#38bdf8',
              500: '#0ea5e9',
              600: '#0284c7',
              700: '#0369a1',
              800: '#075985',
              900: '#0c4a6e',
            }
          }
        }
      }
    }
  </script>
</head>
<body class="bg-gray-100 min-h-screen">
  <div class="flex h-screen">
    <!-- Sidebar -->
    <div class="bg-primary-800 text-white w-64 flex-shrink-0">
      <div class="p-4">
        <h1 class="text-2xl font-bold">247Vitrine</h1>
      </div>
      <nav class="mt-8">
        <a href="#" class="block py-2.5 px-4 rounded transition duration-200 bg-primary-700 hover:bg-primary-600">
          Dashboard
        </a>
        <a href="/website-builder" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-primary-700">
          Website erstellen
        </a>
        <a href="/preview" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-primary-700">
          Vorschau
        </a>
        <a href="#" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-primary-700">
          Einstellungen
        </a>
        <a href="#" id="logoutBtn" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-primary-700 mt-8">
          Abmelden
        </a>
      </nav>
    </div>

    <!-- Main Content -->
    <div class="flex-1 overflow-auto">
      <header class="bg-white shadow">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
          <h1 class="text-3xl font-bold text-gray-900">Dashboard</h1>
        </div>
      </header>
      <main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
        <!-- Dashboard Content -->
        <div class="px-4 py-6 sm:px-0">
          <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
            <!-- Website Card -->
            <div class="bg-white overflow-hidden shadow rounded-lg">
              <div class="p-5">
                <div class="flex items-center">
                  <div class="flex-shrink-0 bg-primary-500 rounded-md p-3">
                    <svg class="h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
                    </svg>
                  </div>
                  <div class="ml-5 w-0 flex-1">
                    <dl>
                      <dt class="text-sm font-medium text-gray-500 truncate">
                        Meine Website
                      </dt>
                      <dd>
                        <div class="text-lg font-medium text-gray-900">
                          Handwerker-Seite
                        </div>
                      </dd>
                    </dl>
                  </div>
                </div>
              </div>
              <div class="bg-gray-50 px-5 py-3">
                <div class="text-sm">
                  <a href="/website-builder" class="font-medium text-primary-600 hover:text-primary-500">
                    Bearbeiten
                  </a>
                </div>
              </div>
            </div>

            <!-- QR Code Card -->
            <div class="bg-white overflow-hidden shadow rounded-lg">
              <div class="p-5">
                <div class="flex items-center">
                  <div class="flex-shrink-0 bg-primary-500 rounded-md p-3">
                    <svg class="h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z" />
                    </svg>
                  </div>
                  <div class="ml-5 w-0 flex-1">
                    <dl>
                      <dt class="text-sm font-medium text-gray-500 truncate">
                        QR-Code
                      </dt>
                      <dd>
                        <div class="text-lg font-medium text-gray-900">
                          Digitale Visitenkarte
                        </div>
                      </dd>
                    </dl>
                  </div>
                </div>
              </div>
              <div class="bg-gray-50 px-5 py-3">
                <div class="text-sm">
                  <a href="#" class="font-medium text-primary-600 hover:text-primary-500">
                    Herunterladen
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>

  <script>
    // Pr√ºfen, ob der Benutzer eingeloggt ist
    document.addEventListener('DOMContentLoaded', function() {
      const token = localStorage.getItem('token');
      if (!token) {
        window.location.href = '/login';
      }
      
      // Benutzerdaten anzeigen
      const user = JSON.parse(localStorage.getItem('user') || '{}');
      const userNameElement = document.querySelector('.text-3xl.font-bold');
      if (userNameElement && user.firstName) {
        userNameElement.textContent = `Dashboard - Willkommen, ${user.firstName}!`;
      }
      
      // Logout-Funktion
      document.getElementById('logoutBtn').addEventListener('click', function() {
        localStorage.removeItem('token');
        localStorage.removeItem('user');
        window.location.href = '/login';
      });
    });
  </script>
</body>
</html>
